var lifepng={width:12,padWidth:2};onload=function(){var A="data:image/png;base64,",e=lifepng.width,n=lifepng.padWidth,t=document.getElementById("board");if(t.getContext("2d")){var g=t.getContext("2d"),o=new Image;o.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAADklEQVQY02NgGAVDFQAAAbwAAS4U1UAAAAAASUVORK5CYII=";var a=new Image;a.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAABnojfMcx8OAAAAH0lEQVQIW2Pk/8gon8ho38hYn8j4/yMC1YMFgVL8HwH74g4NhAvnhAAAAABJRU5ErkJggg==";var r=new Image;r.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAACCAIAAADjHarAAAAAE0lEQVQI12Pcd9OWgRBgYiACAACE/wHYb+fiwwAAAABJRU5ErkJggg==";var d=new Image;d.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAIAAAAMCAIAAADH3vsDAAAAFUlEQVQI12Pcd9OWgYGBiYGBgWoUAJqtAewHHgKkAAAAAElFTkSuQmCC";var i=new Image;i.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAAFklEQVQI12Pcd9OWgYGBiYGBgYGBAQAWmwHYaTE5PAAAAABJRU5ErkJggg==";var l=function(A,e){var n=0;return function(){++n===A&&e()}},m=new l(5,function(){document.getElementById("status").innerText="準備完了",document.getElementById("status").style.display="none"});o.onload=m,a.onload=m,r.onload=m,d.onload=m,i.onload=m,lifepng.draw=function(){var A=document.getElementById("input").value.split("\n"),t=A.length,l=0,m=0,u=0;for(m=0;m<A.length;++m)l=Math.max(l,A[m].length);for(document.getElementById("board").width=l*e+(l-1)*n,document.getElementById("board").height=t*e+(t-1)*n,m=0;t>m;++m){for(u=0;l>u;++u)"1"===A[m][u]?g.drawImage(a,u*(e+n),m*(e+n)):g.drawImage(o,u*(e+n),m*(e+n)),l-1>u&&g.drawImage(d,(u+1)*e+u*n,m*(e+n));if(t-1>m)for(u=0;l>u;++u)g.drawImage(r,u*(e+n),(m+1)*e+m*n),l-1>u&&g.drawImage(i,(u+1)*e+u*n,(m+1)*e+m*n)}}}},lifepng.next=function(){function A(A,e,n){for(var t=0,g=e-1;e+1>=g;++g)"undefined"!=typeof A[g]&&("1"===A[g][n-1]&&++t,"1"===A[g][n]&&g!==e&&++t,"1"===A[g][n+1]&&++t);return t}var e=document.getElementById("input").value.split("\n"),n=[],t=e.length,g=0,o=0,a=0;for(o=0;o<e.length;++o)g=Math.max(g,e[o].length);for(o=0;t>o;++o)n[o]=[];for(o=0;t>o;++o)for(a=0;g>a;++a){var r=A(e,o,a);n[o][a]="1"===e[o][a]?2===r||3===r?"1":"0":3===r?"1":"0"}for(o=0;t>o;++o)n[o]=n[o].join("");document.getElementById("input").value=n.join("\n"),this.draw()},lifepng.randomize=function(){var A=document.getElementById("input").value.split("\n"),e=[],n=A.length,t=0,g=0,o=0;for(g=0;g<A.length;++g)t=Math.max(t,A[g].length);for(g=0;n>g;++g)e[g]=[];for(g=0;n>g;++g)for(o=0;t>o;++o)e[g][o]=!(Math.random()+.5|0)+0;for(g=0;n>g;++g)e[g]=e[g].join("");document.getElementById("input").value=e.join("\n"),this.draw()};