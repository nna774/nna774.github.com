var lifepng={width:12,padWidth:2};onload=function(){var A="data:image/png;base64,",n=lifepng.width,e=lifepng.padWidth,t=document.getElementById("board");if(t.getContext("2d")){var a=t.getContext("2d"),g=new Image;g.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAADklEQVQY02NgGAVDFQAAAbwAAS4U1UAAAAAASUVORK5CYII=";var l=new Image;l.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAABnojfMcx8OAAAAH0lEQVQIW2Pk/8gon8ho38hYn8j4/yMC1YMFgVL8HwH74g4NhAvnhAAAAABJRU5ErkJggg==";var r=new Image;r.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAwAAAACCAIAAADjHarAAAAAE0lEQVQI12Pcd9OWgRBgYiACAACE/wHYb+fiwwAAAABJRU5ErkJggg==";var o=new Image;o.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAIAAAAMCAIAAADH3vsDAAAAFUlEQVQI12Pcd9OWgYGBiYGBgWoUAJqtAewHHgKkAAAAAElFTkSuQmCC";var d=new Image;d.src=A+"iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAAFklEQVQI12Pcd9OWgYGBiYGBgYGBAQAWmwHYaTE5PAAAAABJRU5ErkJggg==";var i=function(A,n){var e=0;return function(){++e==A&&n()}},u=i(5,function(){document.getElementById("status").innerText="準備完了",document.getElementById("status").style.display="none"});g.onload=u,l.onload=u,r.onload=u,o.onload=u,d.onload=u,lifepng.draw=function(){for(var A=document.getElementById("input").value.split("\n"),t=A.length,i=0,u=0;u<A.length;++u)i=Math.max(i,A[u].length);document.getElementById("board").width=i*n+(i-1)*e,document.getElementById("board").height=t*n+(t-1)*e;for(var u=0;t>u;++u){for(var m=0;i>m;++m)1==A[u][m]?a.drawImage(l,m*(n+e),u*(n+e)):a.drawImage(g,m*(n+e),u*(n+e)),i-1>m&&a.drawImage(o,(m+1)*n+m*e,u*(n+e));if(t-1>u)for(var m=0;i>m;++m)a.drawImage(r,m*(n+e),(u+1)*n+u*e),i-1>m&&a.drawImage(d,(m+1)*n+m*e,(u+1)*n+u*e)}}}},lifepng.next=function(){function A(A,n,e){var t=0;return null!=A[n-1]&&(null!=A[n-1][e-1]&&1==A[n-1][e-1]&&++t,null!=A[n-1][e]&&1==A[n-1][e]&&++t,null!=A[n-1][e+1]&&1==A[n-1][e+1]&&++t),null!=A[n]&&(null!=A[n][e-1]&&1==A[n][e-1]&&++t,null!=A[n][e+1]&&1==A[n][e+1]&&++t),null!=A[n+1]&&(null!=A[n+1][e-1]&&1==A[n+1][e-1]&&++t,null!=A[n+1][e]&&1==A[n+1][e]&&++t,null!=A[n+1][e+1]&&1==A[n+1][e+1]&&++t),t}for(var n=document.getElementById("input").value.split("\n"),e=[],t=n.length,a=0,g=0;g<n.length;++g)a=Math.max(a,n[g].length);for(var g=0;t>g;++g)e[g]=[];for(var g=0;t>g;++g)for(var l=0;a>l;++l){var r=A(n,g,l);e[g][l]=1==n[g][l]?2==r||3==r?"1":"0":3==r?"1":"0"}for(var g=0;t>g;++g)e[g]=e[g].join("");document.getElementById("input").value=e.join("\n"),this.draw()},lifepng.randomize=function(){for(var A=document.getElementById("input").value.split("\n"),n=[],e=A.length,t=0,a=0;a<A.length;++a)t=Math.max(t,A[a].length);for(var a=0;e>a;++a)n[a]=[];for(var a=0;e>a;++a)for(var g=0;t>g;++g)n[a][g]=!(Math.random()+.5|0)+0;for(var a=0;e>a;++a)n[a]=n[a].join("");document.getElementById("input").value=n.join("\n"),this.draw()};